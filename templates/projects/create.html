{% extends 'base.html' %}
{% load static %}

{% block title %}Créer un projet - crowdBuilding{% endblock %}

{% block content %}
<div class="container py-4">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <div class="card shadow">
                <div class="card-body p-5">
                    <div class="text-center mb-4">
                        <h2 class="fw-bold text-primary mb-2">
                            <i class="fas fa-plus-circle me-2"></i>Créer un nouveau projet
                        </h2>
                        <p class="text-muted">Remplissez les informations de votre projet immobilier</p>
                    </div>

                    <form method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        
                        <!-- Informations générales -->
                        <div class="mb-4">
                            <h5 class="fw-bold mb-3">
                                <i class="fas fa-info-circle me-2"></i>Informations générales
                            </h5>
                            
                            <div class="mb-3">
                                <label for="titre" class="form-label">Titre du projet *</label>
                                <input type="text" class="form-control" id="titre" name="titre" required>
                            </div>

                            <div class="mb-3">
                                <label for="description" class="form-label">Description détaillée *</label>
                                <textarea class="form-control" id="description" name="description" rows="5" required></textarea>
                            </div>
                        </div>

                        <!-- Informations financières -->
                        <div class="mb-4">
                            <h5 class="fw-bold mb-3">
                                <i class="fas fa-chart-line me-2"></i>Informations financières
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="montant_total" class="form-label">Montant total (FCFA) *</label>
                                    <input type="number" class="form-control" id="montant_total" name="montant_total" min="100000" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="taux_rendement" class="form-label">Taux de rendement (%) *</label>
                                    <input type="number" class="form-control" id="taux_rendement" name="taux_rendement" step="0.01" min="0.01" max="100" required>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="duree" class="form-label">Durée du projet (mois) *</label>
                                <input type="number" class="form-control" id="duree" name="duree" min="1" max="60" required>
                            </div>
                        </div>

                        <!-- Localisation -->
                        <div class="mb-4">
                            <h5 class="fw-bold mb-3">
                                <i class="fas fa-map-marker-alt me-2"></i>Localisation
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="ville" class="form-label">Ville *</label>
                                    <select class="form-select" id="ville" name="ville" required>
                                        <option value="">Sélectionnez une ville</option>
                                        <option value="Ouagadougou">Ouagadougou</option>
                                        <option value="Bobo-Dioulasso">Bobo-Dioulasso</option>
                                        <option value="Koudougou">Koudougou</option>
                                        <option value="Ouahigouya">Ouahigouya</option>
                                        <option value="Banfora">Banfora</option>
                                    </select>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="region" class="form-label">Région *</label>
                                    <select class="form-select" id="region" name="region" required>
                                        <option value="">Sélectionnez une région</option>
                                        <option value="Centre">Centre</option>
                                        <option value="Hauts-Bassins">Hauts-Bassins</option>
                                        <option value="Centre-Ouest">Centre-Ouest</option>
                                        <option value="Nord">Nord</option>
                                        <option value="Cascades">Cascades</option>
                                    </select>
                                </div>
                            </div>

                            <div class="mb-3">
                                <label for="localisation" class="form-label">Adresse détaillée *</label>
                                <input type="text" class="form-control" id="localisation" name="localisation" required>
                            </div>
                        </div>

                        <!-- Calendrier -->
                        <div class="mb-4">
                            <h5 class="fw-bold mb-3">
                                <i class="fas fa-calendar me-2"></i>Calendrier
                            </h5>
                            
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label for="date_debut" class="form-label">Date de début prévue *</label>
                                    <input type="date" class="form-control" id="date_debut" name="date_debut" required>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <label for="date_fin" class="form-label">Date de fin prévue *</label>
                                    <input type="date" class="form-control" id="date_fin" name="date_fin" required>
                                </div>
                            </div>
                        </div>

                        <!-- Documents -->
                        <div class="mb-4">
                            <h5 class="fw-bold mb-3">
                                <i class="fas fa-file-upload me-2"></i>Documents du projet
                            </h5>
                            
                            <div class="mb-3">
                                <label for="plan_financier" class="form-label">Plan financier (PDF)</label>
                                <input type="file" class="form-control" id="plan_financier" name="plan_financier" accept=".pdf">
                            </div>

                            <div class="mb-3">
                                <label for="documents_projet" class="form-label">Documents du projet (PDF, Images)</label>
                                <input type="file" class="form-control" id="documents_projet" name="documents_projet" multiple accept=".pdf,.jpg,.jpeg,.png">
                            </div>
                        </div>

                        <!-- Conditions -->
                        <div class="mb-4">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="conditions" name="conditions" required>
                                <label class="form-check-label" for="conditions">
                                    J'accepte les conditions générales d'utilisation et confirme que toutes les informations fournies sont exactes.
                                </label>
                            </div>
                        </div>

                        <!-- Boutons -->
                        <div class="d-flex gap-3">
                            <button type="submit" class="btn btn-primary btn-lg flex-grow-1">
                                <i class="fas fa-paper-plane me-2"></i>Soumettre le projet
                            </button>
                            <a href="{% url 'projects:list' %}" class="btn btn-outline-secondary btn-lg">
                                <i class="fas fa-times me-2"></i>Annuler
                            </a>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
